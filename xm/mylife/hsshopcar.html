<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/iconfont.css" type="text/css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/nav.css" type="text/css">
    <link rel="stylesheet" href="../css/shopcar.css">
    <link rel="stylesheet" href="../css/foot.css">
    <script src="../js/nav.js"></script>

    <title>华硕购物车</title>
</head>
<body>
    <!-- 顶部 -->
        <div class="header">
                <div class="header_main">
               <div class="heade_left">
                   <a href="#">服务中心</a>
                   <a href="#">以旧换新</a>
                   <a href="#">新机租赁</a>
               </div>
               <div class="header_right">
                    <ul class="header_rightList">
                       <li>
                           <a href="#">登录</a>|<a href="#">注册</a>
                       </li>
                       <li>
                           <a href="#">消息</a>
                       </li>
                       <li><a href="#">我的订单</a></li>
                       <li>
                     
                        <a href="#"><i class="iconfont">&#xe600;</i> 购物车 (<span id='shopCarNum'>0</span>)</a></li>
                    </ul>
               </div>
            </div>
        </div>
        <!-- 导航 -->
        <div class="nav">
                    <div class="nav_main">
                    <div class="nav_logo">
                        <a href="hsIndex.html"><img src="../img/hualog.jpg" alt=""></a>
                    </div>
                    <div class="nav_a">
                       <ul >
                           <li class="nav_list"><a href="#">华硕官网</a></li>
                           <li class="nav_list"><a href="#">个人及家庭用品</a></li>
                           <li class="nav_list"><a href="#">热门活动</a></li>
                           <li class="nav_list"><a href="#">商用活动</a></li>
                           <li class="nav_list"><a href="#">服务与支持</a></li>
                       </ul>
                    </div>
                    <div class="nav_inpu">
                        <input type="text" placeholder="ASUS华硕商城">
                        <div class="nav_butt"></div>
                        <a href="#" id="a">华硕笔记本</a>
            
                        <div class="nav_span">
                                <span>灵耀 Deluxe</span>
                                <span>枪神3 Plus</span>
                                <span>PX544</span>
                        </div>
                    </div>
                </div>
        </div>
        <!-- 划过导航效果 -->
        <div id="nav_show">
                        <ul id="nav_showList">
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                            <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                        </ul>
                        <ul id="nav_showList2">
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                        </ul>
                        <ul id="nav_showList3">
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                                <li><a href="#"><img src="../img/hua-litt1.jpg" alt=""></a><p>华硕笔记本</p></li>
                        </ul>
        </div>
        <div id="nav_showPro">
                        <ul id="nav_showProList" >
                            <li><a href="#"><img src="../img/nav.jpg" alt=""><p>智能家族 抽大奖</p></a></li>
                            <li><a href="#"><img src="../img/nav.jpg" alt=""><p>智能家族 抽大奖</p></a></li>
                            <li><a href="#"><img src="../img/nav.jpg" alt=""><p>智能家族 抽大奖</p></a></li>
                            <li><a href="#"><img src="../img/nav.jpg" alt=""><p>智能家族 抽大奖</p></a></li>
                            <li><a href="#"><img src="../img/nav.jpg" alt=""><p>智能家族 抽大奖</p></a></li>
                        </ul>
        </div>

        <div class="center">
            <div class="shop_nav">
                <ul class="shop_list">
                    <li><div class="kk"></div>全选</li>
                    <li>商品</li>
                    <li>销售价</li>
                    <li>数量</li>
                    <li>优惠金额</li>
                    <li>积分</li>
                    <li>小计</li>
                    <li>操作</li>
                </ul>
            </div>
        </div>
        <div class="shop_main">
            <!-- <img src="../img3/car.jpg" alt=""> -->
            <div class="shop_mianCenter"></div>
        </div>



        <div id="foot">
            <div class="foot_top">
                <ul class="foot_topList">
                    <li><a class="a1"></a><p>七天无理由退货</p></li>
                    <li><a class="a2"></a><p>15天免费换货</p></li>
                    <li><a class="a3"></a><p>满69元包邮</p></li>
                    <li><a class="a4"></a><p>预约维修服务</p></li>
                    <li><a class="a5"></a><p>支持支付宝分期</p></li>
                </ul>
            </div>
            <div class="foot_mddlie">
                <div  class="foot_mddlie1">
                    <h3>公司介绍</h3>
                    <ul class="foot_List">
                        <li><a href="#">关于华硕</a></li>
                        <li><a href="#">华硕承诺</a></li>
                        <li><a href="#">交易条款</a></li>
                    </ul>
                </div>
                <div  class="foot_mddlie1">
                        <h3>购物指南</h3>
                        <ul class="foot_List">
                                <li><a href="#">订单说明</a></li>
                                <li><a href="#">会员注册</a></li>
                                <li><a href="#">会员账号安全与信息</a></li>
                                <li><a href="#">购物流程</a></li>
                                <li><a href="#">积分使用说明</a></li>
                                <li><a href="#">优惠券使用说明</a></li>
                                <li><a href="#">常见问题</a></li>
                                <li><a href="#">华硕商城服务协议说明</a></li>
                                <li><a href="#">授权服务店说明</a></li>
                                <li><a href="#">以旧换新</a></li>
                            </ul>
                </div>
                <div  class="foot_mddlie1">
                        <h3>配送与付款</h3>
                        <ul class="foot_List">
                                <li><a href="#">发货与签收说明</a></li>
                                <li><a href="#">配送运费说明</a></li>
                                <li><a href="#">配送常见说明</a></li>
                                <li><a href="#">配送异常</a></li>
                                <li><a href="#">付款咨询</a></li>
                                <li><a href="#">发票说明</a></li>
                                <li><a href="#">发票常见问题</a></li>
                                <li><a href="#">蚂蚁花呗常见问题</a></li>
                            </ul>
                </div>
                <div  class="foot_mddlie1">
                        <h3>服务与支持</h3>
                        <ul class="foot_List">
                                <li><a href="#">华硕服务中心查询</a></li>
                                <li><a href="#">华硕授权实体店查询</a></li>
                                <li><a href="#">华硕智汇家</a></li>
                            </ul>
                </div>
            </div>
            <div class="foot_dibu">
                <p>有任何购物问题请联系商城客服 | 电话：400-091-9520</p>
                <p><a href="#">营业执照：12000002201803260012</a> │沪ICP备11025349号-3 │ ASUSTeK Computer Inc. All Rights Reserved.</p>
                <div class="foot_last">
                   <p><img src="https://static.asus.com.cn/static/store/images/735f16509d9a54d5ddade073f133e7dcf2c0a486.png?1499224546#h"><a>沪公网安备310221015247号</a></p>
                </div>
            </div>
        </div>
</body>
</html>
<script>
    // <!-- 划过导航效果 -->
var li=$('.nav_list')
var len=li.length;
for(let i=0;i<len;i++){
   
    li[1].onmouseover=function(){
        $('#nav_show').style.display="block";
        $('#nav_showPro').style.display="none";
        $('#nav_showList').style.display='block';
        $('#nav_showList2').style.display='none';
        $('#nav_showList3').style.display='none';
    }
    $('#nav_show').onmouseleave=function(){
        $('#nav_show').style.display="none";
   
    } 
    li[3].onmouseover=function(){
        $('#nav_show').style.display="block";
        $('#nav_showList').style.display='none';
        $('#nav_showList2').style.display='block';
        $('#nav_showPro').style.display="none";
        $('#nav_showList3').style.display='none';
    }
    li[4].onmouseover=function(){
        $('#nav_showList3').style.display='block';
        $('#nav_show').style.display="block";
        $('#nav_showList2').style.display='none';
        $('#nav_showList').style.display='none';
        $('#nav_showPro').style.display="none";
    }
    if(i==2){
        li[i].onmouseover=function(){
        $('#nav_showPro').style.display="block";
        $('#nav_show').style.display="none";
    } 
    $('#nav_showPro').onmouseleave=function(){
        $('#nav_showPro').style.display="none";
    }
    }
}


var shopInfor=document.getElementsByClassName('shop_mianCenter')[0];
window.onload=function(){
                showCar();  
        function showCar() {
        let str = localStorage.getItem("ShopCar");
        var arr = JSON.parse(str);
        console.log(arr.length);
        if (arr != null) {
            var html="";
        for(var i=0;i<arr.length;i++){
						var curr=arr[i];
						html+=`<ul class="shop_list">
                             <li><div class="kk"></div></li>
                             <li><img src='${curr.myCarimg}'>${curr.myCarName}</li>
                             <li>${curr.myCarPrice}</li>
                             <li> <button>-</button> <span>${curr.myCarNum}</span> <button>+<button> </li>
                             <li>${curr.myCarNum}</li>
                             <li>${curr.myCarPrice}</li>
                             <li>${curr.myCarPrice*curr.myCarNum}</li>                         
                             <li><button>X</button></li>
                             </ul>
                        `;
						}
            shopInfor.innerHTML=html;
        }
    }

//减

        var len=$('.shop_list').length;
        $('#shopCarNum').innerHTML=len-1;
        if( $('#shopCarNum').innerHTML>0){
            $('#shopCarNum').parentElement.parentNode.style.backgroundColor="blue";
        }
        for(var i=1;i<len;i++){
            var butt=$('.shop_list')[i].children;
        //   console.log($('.shop_list')[i].children[1].firstElementChild.src);
        //   console.log(butt[3]);
          var reduce=butt[3].firstElementChild;
         
         reduce.onclick=function(){
             num=reduce.nextElementSibling.innerHTML;
             num--;
             if(num<=0){
                 num=0;
             }
             reduce.nextElementSibling.innerHTML=num;
             butt[6].innerHTML=num*parseInt(butt[5].innerHTML);
             save();
           
         }

        }


//加
for(var i=1;i<len;i++){
            var butt=$('.shop_list')[i].children;
        //   console.log(butt[3]);
       
          var add=butt[3].firstElementChild.nextElementSibling.nextElementSibling;
         
         add.onclick=function(){
             num=add.previousElementSibling.innerHTML;
             num++;
             add.previousElementSibling.innerHTML=num;
             butt[6].innerHTML=num*parseInt(butt[5].innerHTML);
             save();
           
         }
        }


//删除 
for(var i=1;i<len;i++){
        var butt=$('.shop_list')[i].children;
        var dell=butt[7].firstElementChild;
         dell.onclick=function(){
          this.parentElement.parentNode.remove();
             save();
           
         }
        }

        //保存数据
function save(){
    var len=$('.shop_list').length;
    // var rowe=$("table")[0].rows;
                var ShopCar=[];
                for(var i=1;i<len;i++){
                var car = {
                    "myCarimg":$('.shop_list')[i].children[1].firstElementChild.src,
                   "myCarName": $('.shop_list')[i].children[1].innerText,
                    "myCarPrice": $('.shop_list')[i].children[2].innerHTML,
                    "myCarNum": $('.shop_list')[i].children[3].firstElementChild.nextElementSibling.innerHTML,
                };
                ShopCar.push(car)  
            }
            var str = JSON.stringify( ShopCar);
            localStorage.setItem("ShopCar",str);
            document.location.href = "hsshopcar.html";
}
				
			}


</script>